---
title: "Portfolio 2"
name: "Cat Seitz"
date: "1.21.2023"
data: "Distractor Suppression Pilot Study"
---

```{r load-packages, message=FALSE}
library(tidyverse) 
library(tidyr)
library(rstatix)
library(data.table)
```

The data used is from a visual search task in which participants are searching for a unique item in an array of six items and press a button to indicate whether the item is facing right or left. On 50% of trials, a salient, color distractor is present in the array. On 67% of distractor present trials, the distractor appears in the same location in the array with an equal number of trials in the other 5 locations. This study is testing whether adults can learn to suppress their attention to the high-probabilty location of the distractor. 

The goal of this portfolio is to examine the 

```{r import_data}

pilot <- read_csv("p01/data/pilot_final.csv", show_col_types = FALSE)
  
```

```{r add_column_for_trial_block}


pilot$relative_hp_dist[pilot$relative_hp_dist == 10] <- "no_dist"
pilot$relative_hp_dist[pilot$relative_hp_dist == 0] <- "dist_0"
pilot$relative_hp_dist[pilot$relative_hp_dist == 1] <- "dist_1"
pilot$relative_hp_dist[pilot$relative_hp_dist == 2] <- "dist_2"
pilot$relative_hp_dist[pilot$relative_hp_dist == 3] <- "dist_3"

block_num <- rep(c(1,2,3,4,5,6,7,8), each=60, times=21)
pilot <- cbind(pilot, block_num)

```

```{r create_new_df_to_transform}
space <- pilot %>%
  group_by(ID, block_num, relative_hp_dist) %>%
  filter(acc==100) %>%
  summarize(rts = mean(RT),
            )

space$rts <- space$rts *1000

```

```{r transform_df}

space_anova <- setDT(space)
space_anova <- dcast(space_anova,ID+block_num~relative_hp_dist,value.var='rts')

```

```{r add_avg_col}

space_anova <- space_anova %>%
  mutate(low_prob = (dist_1+dist_2+dist_3)/3) %>%
  mutate(difference = (low_prob-dist_0))



```


```{r line_plot}
ggplot(data = space_anova,aes(x=block_num, y=difference, group=ID))+
  geom_line(aes(color=ID))+
  geom_point()
  

```

Need to create line plot of the averages.

```{r create_df_to_transform}
space2 <- pilot %>%
  group_by(block_num, relative_hp_dist) %>%
  filter(acc==100) %>%
  summarize(rts = mean(RT),
            )

space2$rts <- space2$rts *1000

```
```{r transform_again}

space3 <- setDT(space2)
space3 <- dcast(space3,block_num~relative_hp_dist,value.var='rts')

space3 <- space3 %>%
  mutate(low_prob = (dist_1+dist_2+dist_3)/3) %>%
  mutate(difference = (low_prob-dist_0))

```


```{r line_plot_avg}
ggplot(data = space3,aes(x=block_num, y=difference))+
  geom_line(aes(color="red"))+
  geom_point()

```








