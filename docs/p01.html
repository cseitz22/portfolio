<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Portfolio 1 - Distractor Suppression Pilot Study</title>

<script src="site_libs/header-attrs-2.19/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>









<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Portfolio</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="about.html">About</a>
</li>
<li>
  <a href="p01.html">Portfolio 1</a>
</li>
<li>
  <a href="p02.html">Portfolio 2</a>
</li>
<li>
  <a href="p03.html">Portfolio 3</a>
</li>
<li>
  <a href="p04.html">Portfolio 4</a>
</li>
<li>
  <a href="p05.html">Portfolio 5</a>
</li>
<li>
  <a href="p06.html">Portfolio 6</a>
</li>
<li>
  <a href="p07.html">Portfolio 7</a>
</li>
<li>
  <a href="p08.html">Portfolio 8</a>
</li>
<li>
  <a href="p09.html">Portfolio 9</a>
</li>
<li>
  <a href="p10.html">Portfolio 10</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Portfolio 1 - Distractor Suppression Pilot
Study</h1>
<h4 class="date">1.21.2023</h4>

</div>


<pre class="r"><code>library(tidyverse) 
library(tidyr)
library(rstatix)
library(data.table)
library(afex)
library(emmeans)
library(psych)
library(ggprism)
library(patchwork)
library(magrittr)
library(cowplot)</code></pre>
<p>The data used is from a visual search task in which participants are
searching for a unique item in an array of six items and press a button
to indicate whether the item is facing right or left. On 50% of trials,
a salient, color distractor is present in the array. On 67% of
distractor present trials, the distractor appears in the same location
in the array with an equal number of trials in the other 5 locations.
This study is testing whether adults can learn to suppress their
attention to the high-probabilty location of the distractor.</p>
<p>The goal of this portfolio piece was to examine the distractor
location effect on response times with regard to the statistical
regularity introduced.</p>
<pre class="r"><code>pilot &lt;- read_csv(&quot;p01/p01/data/pilot_final.csv&quot;, show_col_types = FALSE)</code></pre>
<pre><code>## New names:
## • `` -&gt; `...1`</code></pre>
<p>Changed the value of column relative_hp_dist and changed RT column to
milliseconds. Tried mutate and transform functions to no avail.</p>
<pre class="r"><code>pilot$relative_hp_dist[pilot$relative_hp_dist == 10] &lt;- &quot;no_dist&quot;
pilot$relative_hp_dist[pilot$relative_hp_dist == 0] &lt;- &quot;dist_0&quot;
pilot$relative_hp_dist[pilot$relative_hp_dist == 1] &lt;- &quot;dist_1&quot;
pilot$relative_hp_dist[pilot$relative_hp_dist == 2] &lt;- &quot;dist_2&quot;
pilot$relative_hp_dist[pilot$relative_hp_dist == 3] &lt;- &quot;dist_3&quot;

pilot$RT &lt;- pilot$RT *1000</code></pre>
<p>Add the block number to each trial because later I’ll examine the
block by block differences.</p>
<pre class="r"><code>block_num &lt;- rep(c(1,2,3,4,5,6,7,8), each=60, times=21)
pilot &lt;- cbind(pilot, block_num)</code></pre>
<div id="trim-the-data" class="section level3">
<h3>Trim the Data</h3>
<p>Define trimming criteria according to Van Selst and Jolicoeur
1994.</p>
<pre class="r"><code>xsize &lt;- c(4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 20, 
             25, 30, 35, 50, 100)
stds &lt;- c(1.458, 1.68, 1.841, 1.961, 2.05, 2.12, 2.173, 
            2.22, 2.246, 2.274, 2.31, 2.326, 2.391, 2.41, 2.4305, 
            2.45, 2.48, 2.5)</code></pre>
<p>Trim the data and compute the percent trimmed</p>
<pre class="r"><code>trimmed &lt;- pilot[pilot$acc==100, ] %&gt;% group_by(ID, relative_hp_dist) %&gt;%
           mutate(sdc = ifelse(length(RT)&gt;=100,2.5,approx(xsize,stds,xout=length(RT))$y), avg = mean(RT), stdev = sd(RT)) %&gt;%
           filter(RT &lt;= sdc*stdev+avg &amp; RT &gt;=avg-(sdc*stdev) &amp; RT &gt;=.200) %&gt;%
           select(ID, relative_hp_dist, RT, block_num) %&gt;%  #keep these columns in the new data frame
           as.data.frame()


statPrep &lt;- trimmed %&gt;% group_by(ID, relative_hp_dist) %&gt;% summarise(measurement=mean(RT)) %&gt;% as.data.frame()</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;ID&#39;. You can override using the `.groups`
## argument.</code></pre>
<pre class="r"><code>100-(nrow(trimmed)/nrow(pilot[pilot$acc==100, ]))*100</code></pre>
<pre><code>## [1] 2.509732</code></pre>
<p>2.51% of trials were trimmed.</p>
</div>
<div id="distractor-location-effects-on-response-times"
class="section level3">
<h3>Distractor Location Effects on Response Times</h3>
<p>Create new data frame with the mean response times grouped by
distractor location relative to the high-probability location and add
columns for standard error. Use this data frame for figure 1.</p>
<pre class="r"><code>sum_stats &lt;- trimmed%&gt;%
  group_by(relative_hp_dist)%&gt;%
  summarize(mean_rts=mean(RT),
            sd_rt=sd(RT),
            n_rt=21,
            se=sd_rt/sqrt(n_rt),
            upper_limit=mean_rts+se,
            lower_limit=mean_rts-se
  )
sum_stats</code></pre>
<pre><code>## # A tibble: 5 × 7
##   relative_hp_dist mean_rts sd_rt  n_rt    se upper_limit lower_limit
##   &lt;chr&gt;               &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;
## 1 dist_0               860.  266.    21  58.1        918.        802.
## 2 dist_1               923.  277.    21  60.4        983.        862.
## 3 dist_2               926.  262.    21  57.1        984.        869.
## 4 dist_3               906.  239.    21  52.1        958.        854.
## 5 no_dist              781.  215.    21  46.9        828.        734.</code></pre>
<p>This figure displays the mean response times depending on the
location of the distractor relative to the high probability location. I
chose those particular colors based on Wake Forest’s color scheme.</p>
<pre class="r"><code>a&lt;-ggplot(data = sum_stats, aes(x = relative_hp_dist, y = mean_rts)) +
  #geom_point()+
  geom_bar(stat = &quot;identity&quot;, fill=&quot;#9E7E38&quot;, color=&#39;#000000&#39;) +
  geom_errorbar(aes(ymin=lower_limit, ymax=upper_limit), width=0.2)+
  coord_cartesian(ylim = c(700,1050))+
  theme_classic()+
  labs(x = &quot;Distractor Location&quot;, y = &quot;Response Time (ms)&quot;)+
  labs(title = &quot;Singleton Distractor Present&quot;)+
  #labs(caption = &quot;An ANOVA test shows a difference in RT depending on distractor location, F(3.28,65.57)=33.3, p&lt;.001.&quot;)+
  theme(axis.text=element_text(size=14),
        axis.title=element_text(size=16,face=&quot;bold&quot;),
        title = element_text(size = 24))+
  scale_x_discrete(labels= c(&quot;no_dist&quot;=&quot;no-dist&quot;,&quot;dist_0&quot;=&quot;dist-0&quot;,&quot;dist_1&quot;=&quot;dist-1&quot;,&quot;dist_2&quot;=&quot;dist-2&quot;,&quot;dist_3&quot;=&quot;dist-3&quot;))</code></pre>
<p>Create a new data frame with the average RT for each relative
distractor location per participant, so we can do a repeated measures
ANOVA.</p>
<pre class="r"><code>space &lt;- trimmed %&gt;%
  group_by(ID, relative_hp_dist) %&gt;%
  summarize(rts = mean(RT)
            )</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;ID&#39;. You can override using the `.groups`
## argument.</code></pre>
<pre class="r"><code>space</code></pre>
<pre><code>## # A tibble: 105 × 3
## # Groups:   ID [21]
##       ID relative_hp_dist   rts
##    &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
##  1    11 dist_0           1277.
##  2    11 dist_1           1324.
##  3    11 dist_2           1336.
##  4    11 dist_3           1230.
##  5    11 no_dist          1081.
##  6    12 dist_0            799.
##  7    12 dist_1            841.
##  8    12 dist_2            849.
##  9    12 dist_3            882.
## 10    12 no_dist           732.
## # … with 95 more rows</code></pre>
<p>Create new data frame for only the first half of trials to test
whether the differences between groups is significant when we cut the
trials down. We want to do this because we are running this experiment
with children ages 6-12 and want to make the experiment as short as
possible.</p>
<pre class="r"><code>df2 &lt;- subset(trimmed,block_num!=&#39;7&#39; )
df2 &lt;- subset(df2,block_num!=&#39;8&#39;)
df2 &lt;- subset(df2,block_num!=&#39;5&#39; )
df2 &lt;- subset(df2,block_num!=&#39;6&#39;)

space2&lt;- df2 %&gt;%
  group_by(ID, relative_hp_dist) %&gt;%
  summarize(rts = mean(RT)
            )</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;ID&#39;. You can override using the `.groups`
## argument.</code></pre>
<pre class="r"><code>space2</code></pre>
<pre><code>## # A tibble: 105 × 3
## # Groups:   ID [21]
##       ID relative_hp_dist   rts
##    &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
##  1    11 dist_0           1367.
##  2    11 dist_1           1373.
##  3    11 dist_2           1463.
##  4    11 dist_3           1228.
##  5    11 no_dist          1184.
##  6    12 dist_0            856.
##  7    12 dist_1            873.
##  8    12 dist_2            889.
##  9    12 dist_3            929.
## 10    12 no_dist           788.
## # … with 95 more rows</code></pre>
<p>Test whether there is a difference between conditions for the first 4
blocks using a repeated measures ANOVA – it is significant
F(2.7,54)=25.06, p&lt;.001.</p>
<pre class="r"><code>aov_car(rts ~ relative_hp_dist + Error(ID/relative_hp_dist), data=space2)</code></pre>
<pre><code>## Anova Table (Type 3 tests)
## 
## Response: rts
##             Effect          df     MSE         F  ges p.value
## 1 relative_hp_dist 2.70, 54.00 5151.56 25.06 *** .112   &lt;.001
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;+&#39; 0.1 &#39; &#39; 1
## 
## Sphericity correction method: GG</code></pre>
<p>Need to reformat the above df to have a column for each
relative_hp_dist/ID so we can run tests on the assumptions of
ANOVAs.</p>
<pre class="r"><code>space_anova &lt;- setDT(space)
space_anova &lt;- dcast(space_anova,ID~relative_hp_dist,value.var=&#39;rts&#39;)</code></pre>
<pre class="r"><code>#first identify outliers - not sure what to do with them anyway so overall just ignore? maybe reason enough to get rid of ppt 11?
space %&gt;%
  group_by(relative_hp_dist) %&gt;%
  identify_outliers(rts)</code></pre>
<pre><code>## # A tibble: 8 × 5
##   relative_hp_dist    ID   rts is.outlier is.extreme
##   &lt;chr&gt;            &lt;dbl&gt; &lt;dbl&gt; &lt;lgl&gt;      &lt;lgl&gt;     
## 1 dist_0              11 1277. TRUE       FALSE     
## 2 dist_1              11 1324. TRUE       FALSE     
## 3 dist_1              28 1258. TRUE       FALSE     
## 4 dist_3              11 1230. TRUE       FALSE     
## 5 no_dist             11 1081. TRUE       TRUE      
## 6 no_dist             20  986. TRUE       FALSE     
## 7 no_dist             22  904. TRUE       FALSE     
## 8 no_dist             28  953. TRUE       FALSE</code></pre>
<pre class="r"><code>#testing the normality assumption -- data is not normally distributed because some conditions have a p-value less than .05
space %&gt;%
  group_by(relative_hp_dist) %&gt;%
  shapiro_test(rts)</code></pre>
<pre><code>## # A tibble: 5 × 4
##   relative_hp_dist variable statistic      p
##   &lt;chr&gt;            &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
## 1 dist_0           rts          0.901 0.0362
## 2 dist_1           rts          0.876 0.0125
## 3 dist_2           rts          0.910 0.0557
## 4 dist_3           rts          0.939 0.205 
## 5 no_dist          rts          0.887 0.0194</code></pre>
<p>Assumption of sphericity is automatically checked during the ANOVA
test. Next, we using 3 different ways to run an ANOVA test – . The ANOVA
shows a significant difference among distractor locations,
F(3.28,65.57)=33.3, p&lt;.001. The 3 different methods used to run the
ANOVA all gave significant results, but we’ll go with the last test
because it best takes into account the type of data we are using.</p>
<pre class="r"><code>res.aov &lt;- anova_test(data = space, dv = rts, wid = ID, within = relative_hp_dist)
get_anova_table(res.aov)</code></pre>
<pre><code>## ANOVA Table (type III tests)
## 
##             Effect DFn DFd    F        p p&lt;.05  ges
## 1 relative_hp_dist   4  80 33.3 2.44e-16     * 0.12</code></pre>
<pre class="r"><code>model = aov(rts~factor(relative_hp_dist)+
                Error(factor(ID)), data=space)
summary(model)</code></pre>
<pre><code>## 
## Error: factor(ID)
##           Df  Sum Sq Mean Sq F value Pr(&gt;F)
## Residuals 20 2064016  103201               
## 
## Error: Within
##                          Df Sum Sq Mean Sq F value   Pr(&gt;F)    
## factor(relative_hp_dist)  4 306342   76586    33.3 2.44e-16 ***
## Residuals                80 183990    2300                     
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<pre class="r"><code>model2 &lt;- aov_car(rts ~ relative_hp_dist + Error(ID/relative_hp_dist), data=space)

model2</code></pre>
<pre><code>## Anova Table (Type 3 tests)
## 
## Response: rts
##             Effect          df     MSE         F  ges p.value
## 1 relative_hp_dist 3.28, 65.57 2806.06 33.30 *** .120   &lt;.001
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;+&#39; 0.1 &#39; &#39; 1
## 
## Sphericity correction method: GG</code></pre>
<p>Test whether the high-prob location and the average across low-prob
locations were significantly different. Using a paired samples t-test, I
found that the response times for when the distractor was presented in
the high-probability location compared to the average response time
across the low-probability locations was significantly different
(t(20)=4.95, p&lt;.001). I also examined whether there were significant
differences between the high-prob and distractor absent conditions and
th elow-prob and distractor absent conditions, using paired samples
t-tests. All were significantly different with a p of &lt;.001.</p>
<pre class="r"><code>space_anova &lt;- space_anova %&gt;%
  mutate(low_prob = (dist_1+dist_2+dist_3)/3)</code></pre>
<pre class="r"><code>space_anova %&gt;%
  t.test(x=space_anova$low_prob, y=space_anova$dist_0, alternative=&quot;greater&quot;, mu=0,paired = TRUE, conf.level = .95) </code></pre>
<pre><code>## 
##  Paired t-test
## 
## data:  space_anova$low_prob and space_anova$dist_0
## t = 4.9458, df = 20, p-value = 3.893e-05
## alternative hypothesis: true mean difference is greater than 0
## 95 percent confidence interval:
##  36.23139      Inf
## sample estimates:
## mean difference 
##        55.63165</code></pre>
<pre class="r"><code>space_anova%&gt;%
  t.test(x=space_anova$dist_0, y=space_anova$no_dist, alternative=&quot;greater&quot;, mu=0, paired =TRUE, conf.level = .95) </code></pre>
<pre><code>## 
##  Paired t-test
## 
## data:  space_anova$dist_0 and space_anova$no_dist
## t = 7.0068, df = 20, p-value = 4.239e-07
## alternative hypothesis: true mean difference is greater than 0
## 95 percent confidence interval:
##  61.06419      Inf
## sample estimates:
## mean difference 
##        81.00314</code></pre>
<pre class="r"><code>space_anova%&gt;%
  t.test(x=space_anova$low_prob, y=space_anova$no_dist, alternative=&quot;greater&quot;, mu=0, paired =TRUE, conf.level = .95)</code></pre>
<pre><code>## 
##  Paired t-test
## 
## data:  space_anova$low_prob and space_anova$no_dist
## t = 10.921, df = 20, p-value = 3.523e-10
## alternative hypothesis: true mean difference is greater than 0
## 95 percent confidence interval:
##  115.0573      Inf
## sample estimates:
## mean difference 
##        136.6348</code></pre>
<p>Now, I want to create a smaller graph with just 3 bars: one for the
high-probability rts, average of low-probability rts, and no
distractor.</p>
<pre class="r"><code>df_mod &lt;- subset(space_anova, select=c(ID, no_dist, dist_0, low_prob))

df_mod &lt;- reshape2::melt(df_mod, id.var=c(&#39;ID&#39;), variable.name= &quot;relative_hp_dist&quot;)</code></pre>
<pre class="r"><code>sum_stats2 &lt;- df_mod%&gt;%
  group_by(relative_hp_dist)%&gt;%
  summarize(mean_rts=mean(value),
            sd_rt=sd(value),
            n_rt=21,
            se=sd_rt/sqrt(n_rt),
            upper_limit=mean_rts+se,
            lower_limit=mean_rts-se
  )
sum_stats2</code></pre>
<pre><code>## # A tibble: 3 × 7
##   relative_hp_dist mean_rts sd_rt  n_rt    se upper_limit lower_limit
##   &lt;fct&gt;               &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;
## 1 no_dist              781.  115.    21  25.2        806.        756.
## 2 dist_0               862.  153.    21  33.4        895.        828.
## 3 low_prob             917.  153.    21  33.5        951.        884.</code></pre>
<p>In order to add the p-values to the graph, I needed to create data
frames fo reach value and specify the position on the graph; then, use
add_pvalue with ggplot.</p>
<pre class="r"><code>result&lt;- .001


#Make df for adding the p-value 
p_val1&lt;- data.frame(
  group_1=&quot;dist_0&quot;,
  group_2=&quot;low_prob&quot;,
  label=result,
  y.position=1050
)

p_val2&lt;- data.frame(
  group_1=&quot;no_dist&quot;,
  group_2=&quot;low_prob&quot;,
  label=result,
  y.position=1150
)

p_val3&lt;- data.frame(
  group_1=&quot;no_dist&quot;,
  group_2=&quot;dist_0&quot;,
  label=result,
  y.position=950
)</code></pre>
<p>This figure displays the mean response times depending on the
location of the distractor relative to the high probability location. I
chose those particular colors based on Wake Forest’s color scheme.</p>
<pre class="r"><code>ggplot(data = sum_stats2, aes(x = relative_hp_dist, y = mean_rts)) +
  geom_bar(stat = &quot;identity&quot;, fill=&quot;#9E7E38&quot;, color=&#39;#000000&#39;) +
  geom_errorbar(aes(ymin=lower_limit, ymax=upper_limit), width=0.2)+
  coord_cartesian(ylim = c(700,1200))+
  theme_classic()+
  add_pvalue(p_val1,
             xmin = &quot;group_1&quot;,
             xmax = &quot;group_2&quot;,
             label = &quot;p &lt; {label}&quot;,
             y.position = &quot;y.position&quot;,
             label.size = 4,
             bracket.size = .5)+
  add_pvalue(p_val2,
             xmin = &quot;group_1&quot;,
             xmax = &quot;group_2&quot;,
             label = &quot;p &lt; {label}&quot;,
             y.position = &quot;y.position&quot;,
             label.size = 4,
             bracket.size = .5)+
  add_pvalue(p_val3,
             xmin = &quot;group_1&quot;,
             xmax = &quot;group_2&quot;,
             label = &quot;p &lt; {label}&quot;,
             y.position = &quot;y.position&quot;,
             label.size = 4,
             bracket.size = .5)+
  labs(x = &quot;Distractor Location&quot;, y = &quot;Response Time (ms)&quot;)+
  labs(title = &quot;Distractor Location Effect on RT&quot;)+
  #labs(caption = &quot;An ANOVA test shows a difference in RT depending on distractor location, F(1.97,39.33)=67.98, p&lt;.001.&quot;)+
    theme(axis.text=element_text(size=12),
        axis.title=element_text(size=18,face=&quot;bold&quot;),
        title = element_text(size = 20))+
  scale_x_discrete(labels= c(&quot;no_dist&quot;=&quot;Distractor Absent&quot;,&quot;low_prob&quot;=&quot;Low Prob Location&quot;, &quot;dist_0&quot;=&quot;High Prob Location&quot;))</code></pre>
<p><img src="p01_files/figure-html/-%20graph%202%20-%20distractor%20location%20effect%20on%20rt-1.png" width="672" /></p>
<p>One last ANOVA test on this subset of data.</p>
<pre class="r"><code>model3 &lt;- aov_car(value ~ relative_hp_dist + Error(ID/relative_hp_dist), data=df_mod)

model3</code></pre>
<pre><code>## Anova Table (Type 3 tests)
## 
## Response: value
##             Effect          df     MSE         F  ges p.value
## 1 relative_hp_dist 1.97, 39.33 1483.18 67.98 *** .141   &lt;.001
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;+&#39; 0.1 &#39; &#39; 1
## 
## Sphericity correction method: GG</code></pre>
<p>Combine graphs of rt and accuracy for NC Cog Poster.</p>
<pre class="r"><code>pilot_distacc &lt;- pilot %&gt;%
  group_by(relative_hp_dist) %&gt;%
  summarize(accuracy = mean(acc),
            sd_rt=sd(acc),
            n_rt=21,
            se=sd_rt/sqrt(n_rt),
            upper_limit=accuracy+se,
            lower_limit=accuracy-se
            )

b&lt;-ggplot(data = pilot_distacc, aes(x = relative_hp_dist, y = accuracy)) +
  geom_bar(stat = &quot;identity&quot;, fill=&quot;#9E7E38&quot;, color=&#39;#000000&#39;) +
  geom_errorbar(aes(ymin=lower_limit, ymax=upper_limit), width=0.2)+
  coord_cartesian(ylim = c(85,105))+
  theme_classic()+
  labs(x = &quot;Distractor Location&quot;, y = &quot;Accuracy (%)&quot;)+
  #labs(title = &quot;Distractor Location Effect on Accuracy&quot;)+
  theme(axis.text=element_text(size=14),
        axis.title=element_text(size=16,face=&quot;bold&quot;),
        title = element_text(size = 16))+
  scale_x_discrete(labels= c(&quot;no_dist&quot;=&quot;no-dist&quot;,&quot;dist_0&quot;=&quot;dist-0&quot;,&quot;dist_1&quot;=&quot;dist-1&quot;,&quot;dist_2&quot;=&quot;dist-2&quot;,&quot;dist_3&quot;=&quot;dist-3&quot;))</code></pre>
<pre class="r"><code>plot_grid(a,b,labels = c(&#39;A&#39;,&#39;B&#39;), label_size=16, rel_widths = c(2,1))</code></pre>
<p><img src="p01_files/figure-html/dist_2-plots-1.png" width="1536" /></p>
</div>
<div id="examine-block-by-block-learning-of-distractor-location"
class="section level3">
<h3>Examine block-by-block learning of distractor location</h3>
<p>The goal of this section is to examine individual blocks of trials
for learning. I’ll be taking the difference between response times when
the distractor is presented in the low probability locations and
response times when the distractor is presented in the high probability
location in each block to see roughly how quickly individuals are
learning the regularity.</p>
<pre class="r"><code>space_block &lt;- trimmed %&gt;%
  group_by(ID, block_num, relative_hp_dist) %&gt;%
  summarize(rts = mean(RT),
            )</code></pre>
<pre><code>## `summarise()` has grouped output by &#39;ID&#39;, &#39;block_num&#39;. You can override using
## the `.groups` argument.</code></pre>
<pre class="r"><code>space_block</code></pre>
<pre><code>## # A tibble: 837 × 4
## # Groups:   ID, block_num [168]
##       ID block_num relative_hp_dist   rts
##    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;            &lt;dbl&gt;
##  1    11         1 dist_0           1552.
##  2    11         1 dist_1           1361.
##  3    11         1 dist_2           1557.
##  4    11         1 dist_3           1113.
##  5    11         1 no_dist          1317.
##  6    11         2 dist_0           1405.
##  7    11         2 dist_1           1400.
##  8    11         2 dist_2           1555.
##  9    11         2 dist_3           1329.
## 10    11         2 no_dist          1127.
## # … with 827 more rows</code></pre>
<pre class="r"><code>space_block &lt;- setDT(space_block)
space_block &lt;- dcast(space_block,ID+block_num~relative_hp_dist,value.var=&#39;rts&#39;)</code></pre>
<p>Below, I added the average rt for the low probability locations and
the difference between the low probability and high probability
locations ignoring n/a values.</p>
<pre class="r"><code>space_block &lt;- space_block %&gt;%
  mutate(low_prob = rowMeans(select(space_block, c(dist_1,dist_2,dist_3)),na.rm=TRUE)) %&gt;%
  mutate(difference = (low_prob-dist_0))</code></pre>
<pre class="r"><code>ggplot(data = space_block,aes(x=block_num, y=difference, group=ID))+
  geom_line(aes(color=ID))+
  geom_point()+
  labs(title = &quot;Difference in Response Times&quot;, subtitle = &quot;for distractor presentation at the low-probability locations and high-probability location by block&quot;)+
  theme_classic()+
  labs(x = &quot;Block Number&quot;, y = &quot;Difference in RT (ms)&quot;)</code></pre>
<p><img src="p01_files/figure-html/line_plot-1.png" width="672" /></p>
<p>Positive differences indicate that participants were faster when the
distractor was presented in the high probability location compared to
when it was presented in the low probability locations. The average
across all participants is plotted below. These results indicate that
the individuals are learning within the first block where the distractor
is likely to appear.</p>
<pre class="r"><code>space2 &lt;- space_block %&gt;%
  group_by(block_num) %&gt;%
  summarize(rts = mean(difference, na.rm = TRUE),
            sd_rt=sd(difference, na.rm = TRUE),
            n_rt=21,
            se=sd_rt/sqrt(n_rt),
            upper_limit=rts+se,
            lower_limit=rts-se
            )</code></pre>
<pre class="r"><code>ggplot(data = space2,aes(x=block_num, y=rts))+
  geom_line()+
  geom_point()+
  geom_errorbar(aes(ymin=lower_limit, ymax=upper_limit), width=0.2)+
  labs(title = &quot;Average Difference in Response Times By Block&quot;, subtitle = &quot;for distractor presentation at the low-probability locations and high-probability location&quot;, x=&quot;Block number&quot;, y=&quot;Difference in RT (ms)&quot;)</code></pre>
<p><img src="p01_files/figure-html/line_plot_avg-1.png" width="672" /></p>
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
